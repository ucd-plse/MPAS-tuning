[machine]
project_root = /root/precimonious-w-rose/submodules/MPAS-tuning
src_search_paths = ${project_root}/src

[target]
src_files = ${machine:project_root}/src/core_atmosphere/dynamics/mpas_atm_time_integration.F90
search_patterns = 
    ^::atm_time_integration::[A-Za-z0-9_]+_work::.*
ignore_patterns =
    .*::scale_arr
    .*::scale_array
additional_plugin_flags =
    -D_MPI
    -DNOMPIMOD
    -DCORE_ATMOSPHERE
    -DMPAS_NAMELIST_SUFFIX=atmosphere
    -DMPAS_NATIVE_TIMERS
    -DDO_PHYSICS

[build]
cmd = ./scripts/build_MPAS_atm_gnu.sh
working_dir = ${machine:project_root}
partial_build_cmd = ./scripts/build_MPAS_atm_gnu_partial.sh

[run]
cmd = run_1day.sh
working_dir = ${machine:project_root}/experiments/240km_uniform

[eval]
cmd = python3 eval.py
working_dir = ${machine:project_root}/experiments/240km_uniform
pass_log_path = True